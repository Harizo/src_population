<div id="forms" class="page-layout simple fullwidth doc-page" layout="column">
    <!-- HEADER -->
    <div class="header md-accent-bg" layout="row" layout-align="space-between">
        <div layout="column" layout-align="space-between">
            <div class="breadcrumb" layout="row" layout-align="start center">
                    <md-icon md-font-icon="icon-home" class="s16"></md-icon>
                    <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                    <span class="parent">Reporting</span>
                    <span class="parent"> </span>
                    <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                    <span class="parent" href="javascript:;"> Environnement et système </span>
                </div>

            <div class="title">Environnement démo_socio et système de protection sociale</div>
        </div>
    </div>
    <!--/ HEADER -->
   
    <!-- CONTENT -->
    <div class="content"layout="column">
        <div class="form-wrapper">
            <md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="34"></md-progress-circular> 
                  <div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
                      Chargement,veuillez patienter s'il vous plait ...
                  </div>
            <div class="white-bg md-whiteframe-4dp">
            <md-tabs md-dynamic-height>
                <md-tab label="numero1">
                    <md-tab-body>
                        <form name="formEffAgeSexe" class="md-inline-form" novalidate >
                        	<div layout="column" layout-gt-xs="row">
			                  <md-input-container flex="100" flex-gt-xs="40">
			                              
			                    <label>Reporting</label>
			                      <md-select ng-model="vm.filtre.pivot" ng-disabled="vm.affiche_load"  required>
                                    <md-optgroup label="Environnement démographique et socioéconomique">
                                        <md-option  ng-repeat="pivo in vm.pivots | filter: {category: 'theme1' }" value="{{pivo.id}}">{{pivo.titre}}
                                        </md-option>
                                    </md-optgroup>

                                    <md-optgroup label="Système de protection sociale">
                                        <md-option  ng-repeat="pivo in vm.pivots | filter: {category: 'theme2' }" value="{{pivo.id}}">{{pivo.titre}}
                                        </md-option>
                                    </md-optgroup>
			                      </md-select>
			                  </md-input-container>
			                  <md-input-container flex="100" flex-gt-xs="60">
			                  </md-input-container>
			                </div>
                            <div layout="column" layout-gt-xs="row">       
                                
                                <md-input-container flex="100" flex-gt-xs="33" ng-if="vm.cacher_table('region',vm.filtre.pivot)" >
                                  <label>Region</label>
                                    <md-select ng-model="vm.filtre.region_id" ng-change="vm.modifierregion(vm.filtre)" required>
                                        <md-option ng-repeat="region in vm.allregion" value="{{region.id}}">
                                        {{region.nom}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                                <md-input-container flex="100" flex-gt-xs="33" ng-if="!vm.cacher_table('region',vm.filtre.pivot)">
                                  <label>Region</label>
                                    <md-select ng-model="vm.filtre.region_id" ng-change="vm.modifierregion(vm.filtre)">
                                        <md-option ng-repeat="region in vm.allregion" value="{{region.id}}">
                                        {{region.nom}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                                <md-input-container flex="100" flex-gt-xs="33">
                                    <label>District</label>
                                    <md-select ng-model="vm.filtre.district_id" ng-change="vm.modifierdistrict(vm.filtre)" ng-disabled="!vm.isDistrict">
                                        <md-option  value="*">*</md-option>
                                        <md-option ng-repeat="district in vm.alldistrict" value="{{district.id}}">
                                            {{district.nom}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                                <md-input-container flex="100" flex-gt-xs="33">
                                    <label>Commune</label>
                                    <md-select ng-model="vm.filtre.commune_id" ng-change="vm.modifiercommune(vm.filtre)" ng-disabled="!vm.isCommune">
                                        <md-option  value="*">*</md-option>
                                        <md-option ng-repeat="commune in vm.allcommune" value="{{commune.id}}">
                                            {{commune.nom}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>

                                <md-input-container flex="100" flex-gt-xs="33" ng-show="vm.cacher_table('interven',vm.filtre.pivot)">
                                    <label>Intervention</label>
                                    <md-select ng-model="vm.filtre.id_intervention">
                                        <md-option  value="*">*</md-option>
                                        <md-option ng-repeat="intervention in vm.allintervention" value="{{intervention.id}}">
                                            {{intervention.intitule}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            
                            <div>
                                <md-button type="submit" class="md-raised md-accent" aria-label="Enregistrer" ng-disabled="formEffAgeSexe.$invalid" ng-click="vm.filtrer(vm.filtre)"> Actualiser
                                </md-button>
                            </div>
                        </form>  
                      <table class="dataTable row-border cell-border hover" datatable="ng"
                        dt-options="vm.dtOptions" ms-responsive-table>
                        <thead>
                            <tr>
                            	<!-- req1theme1-->                            
                                <th class="secondary-text" ng-show="vm.cacher_table('region',vm.filtre.pivot)">
                                	<div class="table-header">
                                    	<span class="column-title">Region</span>
                                	</div>
                              	</th>
                              	
                              	<!-- req1theme1-->
                              	<th class="secondary-text" ng-show="vm.cacher_table('dist',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">District</span>
	                                </div>
                              	</th>

                              	<!-- req1theme1-->
                              	<th class="secondary-text" ng-show="vm.cacher_table('comm',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">Commune</span>
	                                </div>
                              	</th>                                

                                <!-- req33theme2, req38theme2 -->
                                <th class="secondary-text" ng-show="vm.cacher_table('interven',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Intervention</span>
                                    </div>
                                </th>

                              	<!-- req1theme1-->
                                <th class="secondary-text" ng-show="vm.cacher_table('petitenfan',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">Nombre enfant (H)<br/>Nombre enfant (F)</span>
	                                </div>
                              	</th>
	                            
	                            <!-- req1theme1-->
	                            <th class="secondary-text" ng-show="vm.cacher_table('agesco',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">Nombre en âge scolaire (H)<br/>Nombre en âge scolaire (F)</span>
	                                </div>
	                            </th>
	                            
	                            <!-- req1theme1-->
	                            <th class="secondary-text" ng-show="vm.cacher_table('agetrava',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">Nombre en âge de travailler (H) <br/>Nombre en âge de travailler (F)</span>
	                                </div>
	                            </th>

	                            <!-- req1theme1-->
                              	<th class="secondary-text" ng-show="vm.cacher_table('agee',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">Personnes âgées (H) <br/>Personnes âgées (F)</span>
	                                </div>
                              	</th>

                              	<!-- req3theme1-->
	                            <th class="secondary-text" ng-show="vm.cacher_table('menagenfan',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">Nombre enfant</span>
	                                </div>
	                            </th>

	                            <!-- req3theme1-->
                              	<th class="secondary-text" ng-show="vm.cacher_table('menagscolai',vm.filtre.pivot)">
	                                <div class="table-header">
	                                    <span class="column-title">Nombre en âge scolaire</span>
	                                </div>
                              	</th>

                                <!-- req38theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('nbrbenef',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Nombre bénéficiaire</span>
                                    </div>
                                </th>
                <!-- Bruce-->                
                                <!-- req7theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('situation',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Situation programme</span>
                                    </div>
                                </th>

                                <!-- req8theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('source',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Source de financement</span>
                                    </div>
                                </th>

                                <!-- req9theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('tutelle',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Tutelle</span>
                                    </div>
                                </th>

                                <!-- req7theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('budgetinit',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Budget initial</span>
                                    </div>
                                </th>

                                <!-- req7theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('budgetmodif',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Budget modifié</span>
                                    </div>
                                </th>

                                <!-- req31theme2,req34theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('program',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Intitule programme</span>
                                    </div>
                                </th>

                                <!--req34theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('nbrbene',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Nombre béneficiaire</span>
                                    </div>
                                </th>

                                <!-- req31theme2,req34theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('nbrinter',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Nombre intervention prevu</span>
                                    </div>
                                </th>

                                <!-- req34theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('tauxinter',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Taux/intervention</span>
                                    </div>
                                </th>

                                <!-- req31theme2,req34theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('beneparan',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Nombre par an</span>
                                    </div>
                                </th>

                                <!-- req31theme2,req34theme2-->
                                <th class="secondary-text" ng-show="vm.cacher_table('beneprevu',vm.filtre.pivot)">
                                    <div class="table-header">
                                        <span class="column-title">Nombre total prevu</span>
                                    </div>
                                </th>
                <!-- Bruce-->                
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="data in vm.datas">

                            	<!-- req1theme1, req3theme1, req33theme2, req38theme2-->
                                <td ng-show="vm.cacher_table('region',vm.filtre.pivot)">{{data.nom_region}}</td>

                                <!-- req1theme1, req3theme1, req33theme2, req38theme2 -->
                                <td ng-show="vm.cacher_table('dist',vm.filtre.pivot)">{{data.nom_dist}}</td>

                                <!-- req1theme1, req3theme1, req33theme2, req38theme2-->
                                <td ng-show="vm.cacher_table('comm',vm.filtre.pivot)">{{data.nom_com}}</td>

                                <!-- req33theme2, req38theme2 -->
                                <td ng-show="vm.cacher_table('interven',vm.filtre.pivot)">{{data.intitule_intervention}}</td>

                                <!-- req1theme1, req33theme2, req38theme2-->
                                <td ng-show="vm.cacher_table('petitenfan',vm.filtre.pivot)">{{data.nbr_enfant_homme}}<br/>{{data.nbr_enfant_fille}}</td>
                                
                                <!-- req1theme1, req38theme2-->
                                <td ng-show="vm.cacher_table('agesco',vm.filtre.pivot)">{{data.nbr_agescolaire_homme}}<br/>{{data.nbr_agescolaire_fille}}</td>

                                <!-- req1theme1, req38theme2-->
                                <td ng-show="vm.cacher_table('agetrava',vm.filtre.pivot)">{{data.nbr_agetravaille_homme}}<br/>{{data.nbr_agetravaille_fille}}</td>

                                <!-- req1theme1, req38theme2-->
                                <td ng-show="vm.cacher_table('agee',vm.filtre.pivot)">{{data.nbr_agee_homme}}<br/>{{data.nbr_agee_fille}}</td>

                                <!-- req3theme1-->
                                <td ng-show="vm.cacher_table('menagenfan',vm.filtre.pivot)">{{data.nbr_menage_enfant}}</td>

                                <!-- req3theme1-->
                                <td ng-show="vm.cacher_table('menagscolai',vm.filtre.pivot)">{{data.nbr_menage_agescollaire}}</td>

                                <!-- req33theme2-->
                                <td ng-show="vm.cacher_table('nbrbenef',vm.filtre.pivot)">{{data.nbr_beneficiaire}}</td>
            <!-- Bruce-->
                                <!-- req7theme2-->
                                <td ng-show="vm.cacher_table('situation',vm.filtre.pivot)" class="text-center">{{data.situation}}</td>

                                <!-- req8theme2-->
                                <td ng-show="vm.cacher_table('source',vm.filtre.pivot)" class="text-center">{{data.nom_source}}</td>

                                <!-- req9theme2-->
                                <td ng-show="vm.cacher_table('tutelle',vm.filtre.pivot)" class="text-center">{{data.nom_tutelle}}</td>

                                <!-- req7theme2-->
                                <td ng-show="vm.cacher_table('budgetinit',vm.filtre.pivot)" class="text-center">{{data.budget_initial}}</td>

                                <!-- req7theme2-->
                                <td ng-show="vm.cacher_table('budgetmodif',vm.filtre.pivot)" class="text-center">{{data.budget_modifie}}</td>
                                
                                <!-- req31theme2,req34theme2-->
                                <td ng-show="vm.cacher_table('program',vm.filtre.pivot)" class="text-center">{{data.intitule_programme}}</td>

                                <!-- req34theme2-->
                                <td ng-show="vm.cacher_table('nbrbene',vm.filtre.pivot)" class="text-center">{{data.total_bene}}</td>

                                <!-- req31theme2,req34theme2-->
                                <td ng-show="vm.cacher_table('nbrinter',vm.filtre.pivot)" class="text-center">{{data.total_intervention_prevu}}</td>

                                <!-- req34theme2-->
                                <td ng-show="vm.cacher_table('tauxinter',vm.filtre.pivot)" class="text-center">{{vm.nombre_apre_virgul(data.taux_intervention)}}%</td>

                                <!-- req31theme2,req34theme2-->
                                <td ng-show="vm.cacher_table('beneparan',vm.filtre.pivot)" class="text-center">{{vm.nombre_apre_virgul(data.nbr_an_programme)}}</td>

                                <!-- req31theme2,req34theme2-->
                                <td ng-show="vm.cacher_table('beneprevu',vm.filtre.pivot)" class="text-center">{{data.nbr_total_prevu}}</td>
            <!-- Bruce-->
                            </tr>
                        </tbody>
                    </table>  
                    </md-tab-body>
                    
                </md-tab>                
            </md-tabs>
            </div>
        </div>
    </div>
    <!--/ CONTENT -->    
</div>
